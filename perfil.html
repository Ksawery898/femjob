<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FemJob | Mi Perfil</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="topbar">
  <div class="nav">
    <a class="brand" href="index.html" aria-label="FemJob - Ir a inicio">
      <div class="logo" aria-hidden="true"></div>
      <span>FemJob</span>
    </a>

    <nav class="navlinks" aria-label="Navegación principal">
      <a href="index.html">Inicio</a>
      <a href="recomendaciones.html">Recomendaciones</a>
      <a class="active" href="perfil.html">Mi Perfil</a>
      <a href="capacitacion.html">Capacitación</a>
      <a href="empresa.html">Empresas</a>
      <a href="sobre.html">Sobre</a>
      <a href="contacto.html">Contacto</a>
      <a href="faq.html">FAQ</a>
      <a href="terminos.html">Términos</a>
    </nav>
  </div>
</header>

<main class="container">

  <section class="card">
    <span class="badge">Perfil de usuaria (demo)</span>
    <h1>Mi Perfil</h1>
    <p>
      Completa tu información para recibir recomendaciones más relevantes.
      En este prototipo, los cambios se guardan localmente en tu navegador.
    </p>
  </section>

  <div class="grid">

    <aside class="card">
      <h2>Acciones</h2>
      <p class="meta">Guarda tus preferencias para ajustar recomendaciones.</p>

      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn primary" type="button" onclick="saveProfile()">Guardar cambios</button>
        <button class="btn" type="button" onclick="resetProfile()">Restablecer</button>
      </div>

      <hr>

      <div class="care-chip" id="careStatus" style="display:none;">Modo cuidadora activo</div>
      <p style="font-size:12px; margin-top:10px;">
        *El modo cuidadora prioriza vacantes con flexibilidad, remoto/híbrido y jornada compatible.
      </p>
    </aside>

    <section class="card">
      <h2>Información general</h2>

      <div class="split">
        <div class="field">
          <label for="nombre">Nombre</label>
          <input id="nombre" placeholder="Ej: Daniela Pérez" />
        </div>
        <div class="field">
          <label for="correo">Correo</label>
          <input id="correo" placeholder="Ej: daniela@mail.com" />
        </div>
      </div>

      <div class="split">
        <div class="field">
          <label for="area">Área</label>
          <select id="area">
            <option>Marketing</option>
            <option>TI / Datos</option>
            <option>RR.HH.</option>
            <option>Administración</option>
            <option>Servicios</option>
          </select>
        </div>
        <div class="field">
          <label for="modalidad">Modalidad preferida</label>
          <select id="modalidad">
            <option>Híbrido</option>
            <option>Remoto</option>
            <option>Presencial</option>
          </select>
        </div>
      </div>

      <div class="split">
        <div class="field">
          <label for="experiencia">Experiencia</label>
          <select id="experiencia">
            <option>Junior</option>
            <option>Semi-senior</option>
            <option>Senior</option>
          </select>
        </div>
        <div class="field">
          <label for="comuna">Comuna / Ciudad</label>
          <input id="comuna" placeholder="Ej: Santiago" />
        </div>
      </div>

      <hr>

      <h2>Modo Mamá / Cuidadora</h2>
      <p>
        Funcionalidad opcional para priorizar ofertas laborales compatibles con responsabilidades de cuidado.
      </p>

      <div class="card" style="background:#f8fafc; border-style:dashed;">
        <div style="display:flex; gap:12px; align-items:flex-start;">
          <input id="careMode" type="checkbox" style="margin-top:4px;" />
          <div>
            <h3 style="margin:0 0 6px;">Activar modo cuidadora</h3>
            <p style="margin:0;">
              Al activarlo, FemJob prioriza vacantes con <b>flexibilidad</b>, <b>remoto/híbrido</b> y <b>jornada compatible</b>.
            </p>
          </div>
        </div>

        <div class="split" style="margin-top:12px;">
          <div class="field">
            <label for="careHours">Horario preferido</label>
            <select id="careHours">
              <option value="flexible">Flexible / por turnos</option>
              <option value="parttime">Part-time</option>
              <option value="tradicional">Tradicional (9–18)</option>
            </select>
          </div>
          <div class="field">
            <label for="careRemote">Preferencia de modalidad</label>
            <select id="careRemote">
              <option value="remote">Remoto prioritario</option>
              <option value="hybrid">Híbrido prioritario</option>
              <option value="any">Cualquiera</option>
            </select>
          </div>
        </div>

        <p class="hint" style="margin-top:8px;">
          *En este prototipo, estas opciones ajustan etiquetas y el filtro de “compatibles con cuidados” en Recomendaciones.
        </p>
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
        <button class="btn secondary" type="button" onclick="goRecommendations()">Ver recomendaciones</button>
      </div>

    </section>

  </div>

  <div class="footer">FemJob • Mi Perfil (demo)</div>
</main>

<script>
  const KEY_PROFILE = "femjob_profile_v1";
  const KEY_CARE = "femjob_care_mode_v1";

  function loadProfile(){
    const raw = localStorage.getItem(KEY_PROFILE);
    const data = raw ? JSON.parse(raw) : {};

    document.getElementById("nombre").value = data.nombre || "";
    document.getElementById("correo").value = data.correo || "";
    document.getElementById("area").value = data.area || "Marketing";
    document.getElementById("modalidad").value = data.modalidad || "Híbrido";
    document.getElementById("experiencia").value = data.experiencia || "Junior";
    document.getElementById("comuna").value = data.comuna || "";
    document.getElementById("careHours").value = data.careHours || "flexible";
    document.getElementById("careRemote").value = data.careRemote || "remote";

    const care = localStorage.getItem(KEY_CARE) === "true";
    document.getElementById("careMode").checked = care;
    updateCareStatus(care);
  }

  function updateCareStatus(isOn){
    const chip = document.getElementById("careStatus");
    chip.style.display = isOn ? "inline-flex" : "none";
    chip.textContent = isOn ? "Modo cuidadora activo" : "";
  }

  function saveProfile(){
    const data = {
      nombre: document.getElementById("nombre").value.trim(),
      correo: document.getElementById("correo").value.trim(),
      area: document.getElementById("area").value,
      modalidad: document.getElementById("modalidad").value,
      experiencia: document.getElementById("experiencia").value,
      comuna: document.getElementById("comuna").value.trim(),
      careHours: document.getElementById("careHours").value,
      careRemote: document.getElementById("careRemote").value
    };
    localStorage.setItem(KEY_PROFILE, JSON.stringify(data));

    const care = document.getElementById("careMode").checked;
    localStorage.setItem(KEY_CARE, String(care));
    updateCareStatus(care);

    alert("Perfil guardado (demo).");
  }

  function resetProfile(){
    localStorage.removeItem(KEY_PROFILE);
    localStorage.removeItem(KEY_CARE);
    loadProfile();
    alert("Preferencias restablecidas (demo).");
  }

  function goRecommendations(){
    saveProfile();
    location.href = "recomendaciones.html";
  }

  document.getElementById("careMode").addEventListener("change", (e) => {
    localStorage.setItem(KEY_CARE, String(e.target.checked));
    updateCareStatus(e.target.checked);
  });

  window.addEventListener("load", loadProfile);
</script>

</body>
</html>
